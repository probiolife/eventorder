<!DOCTYPE html>
<html lang="zh-Hant">
<head>

    <style>
        #products {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0;
        }
      
        .product-header,
        .product-row {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr 1fr;
          column-gap: 16px;
          align-items: center;
          width: 100%;
          max-width: 2000px;
          padding: 12px 20px;
          box-sizing: border-box;
        }
      
        .product-header {
          background-color: #f1f5f9;
          font-weight: bold;
          border-bottom: 1px solid #e2e8f0;
          text-align: right;
          font-family: 'Noto Sans TC', sans-serif;
          font-size: 1.2rem;
        }
      
        .product-header > div:first-child {
          text-align: left;
        }
      
        .product-row {
          border-bottom: 1px solid #e5e7eb;
          background-color: white;
          font-family: 'Noto Sans TC', sans-serif;
          font-size: 1.05rem;
          line-height: 1.6;
          transition: background-color 0.2s ease-in-out;
        }
      
        .product-row:hover {
          background-color: #f9fafb;
        }
      
        .product-name {
          display: flex;
          flex-direction: column;
          justify-content: flex-start;
          align-items: flex-start;
          font-weight: 600;
        }
      
        .product-name a {
          color: #1d4ed8;
          text-decoration: underline;
          font-weight: 600;
        }
      
        .product-name .text-sm {
          font-size: 0.95rem;
          color: #374151;
        }
      
        .price-cell {
          text-align: right;
          font-variant-numeric: tabular-nums;
          font-size: 1.05rem;
        }
      
        .price-cell.sale {
          color: #e11d48;
          font-weight: 600;
        }
      
        .control-cell {
          display: flex;
          justify-content: flex-end;   /* âœ… å³å°é½Šæ§åˆ¶æ¬„ */
          align-items: center;
          white-space: nowrap;
          font-size: 1.05rem;
          gap: 6px;
        }
      
        .control-cell button {
          font-size: 1rem;
          padding: 6px 10px;
          min-width: 36px;
          background-color: #e5e7eb;
          border: none;
          cursor: pointer;
        }
      
        .control-cell span {
          font-size: 1rem;
          min-width: 36px;
          display: inline-block;
          text-align: center;
        }
  
        @media (max-width: 768px) {
        .product-header {
          display: none;  /* âœ… å°è¢å¹•éš±è—åŸæœ¬ header */
        }

        .product-row {
          display: flex;
          flex-direction: column;
          gap: 4px;
          padding: 12px;
        }

        .product-row > div {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .mobile-label {
          font-weight: 500;
          color: #6b7280; /* gray-500 */
          margin-right: 8px;
        }
      }

      </style>
      
      

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç›Šç”Ÿæ´»è¨‚è³¼è¡¨æ ¼</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body class="bg-gray-100 p-6">
    <h1 style="font-size: 2rem;font-weight: bold;text-align: center;margin-top: 20px;margin-bottom: 30px;
    font-family: 'Noto Sans TC', sans-serif;color: #092e7dce;
  ">
    ç›Šç”Ÿæ´»è¨‚è³¼è¡¨æ ¼--ä¸­å¤§äººå¿«é–ƒå„ªæƒ  5æœˆ6æ—¥-8æ—¥
  </h1>
  
 <!-- åŸºæœ¬è¡¨å–®å€æ®µ -->
 <div class="form-section">
    <label>å–è²¨æ–¹å¼ï¼š</label><br>
    <label><input type="radio" name="pickup" value="ä¸­å¤§è‡ªå–" checked> ä¸­å¤§è‡ªå–</label>
    <label><input type="radio" name="pickup" value="é€è²¨"> é€è²¨ï¼ˆ$500 ä»¥ä¸‹åŠ  $50 é‹è²»ï¼‰</label>
  </div>
  <div class="form-section">
    <label>ä»˜æ¬¾æ–¹å¼ï¼š</label><br>
    <label><input type="radio" name="payment" value="FPS" checked> FPS / éŠ€è¡Œéæ•¸åˆ° Hang Seng Bank 228-764981-883 HSK GeneTech Limited </label>
  </div>
  <div class="mb-4"><label class="block mb-1">å§“å <span class="text-red-500">*</span></label><input type="text" id="name" class="w-full border rounded p-2" required></div>
  <div class="mb-4"><label class="block mb-1">é›»è©± (å¯ä»¥whatsappè¯çµ¡) <span class="text-red-500">*</span></label><input type="text" id="phone" class="w-full border rounded p-2" required></div>
  <div class="mb-4"><label class="block mb-1">é›»éƒµ</label><input type="email" id="email" class="w-full border rounded p-2"></div>
  <div class="mb-4"><label class="block mb-1">é€è²¨åœ°å€ï¼ˆå¦‚é¸æ“‡é€è²¨ï¼‰ï¼š</label><input type="text" id="address" class="w-full border rounded pt-4"></div>
  <div class="mb-4"><label class="block mb-1">ä»»é¸/å£å‘³å‚™è¨»ï¼š</label><input type="text" id="remark" class="w-full border rounded pt-4"></div>
</div>

  <div class="flex flex-wrap gap-2 mb-6" id="tabs">

<button class="tab-btn p-2 border rounded" data-category="å…¨éƒ¨">å…¨éƒ¨</button>
<button class="tab-btn p-2 border rounded" data-category="Probiolife ç›Šç”Ÿæ´»ç”¢å“">Probiolife ç›Šç”Ÿæ´»ç”¢å“</button>
<button class="tab-btn p-2 border rounded" data-category="å¼·å…ç–«æ‹æª”">å¼·å…ç–«æ‹æª”</button>
<button class="tab-btn p-2 border rounded" data-category="Biotrace/Simply Potent ç³»åˆ—">Biotrace/Simply Potent ç³»åˆ—</button>
<button class="tab-btn p-2 border rounded" data-category="å£è…”å¥åº·">å£è…”å¥åº·</button>
<button class="tab-btn p-2 border rounded" data-category="ProHealth ç³»åˆ—">ProHealth ç³»åˆ—</button>
<button class="tab-btn p-2 border rounded" data-category="é—œæ•™æˆç²¾é¸">é—œæ•™æˆç²¾é¸</button>

</div>

<div id="products" class="space-y-4"></div>

<!-- ğŸ” æ–°å¢ä¸€çµ„åˆ†é¡æŒ‰éˆ•åœ¨ä¸‹æ–¹ -->
<div class="flex flex-wrap gap-2 my-6">
  <button class="tab-btn p-2 border rounded" data-category="å…¨éƒ¨">å…¨éƒ¨</button>
  <button class="tab-btn p-2 border rounded" data-category="Probiolife ç›Šç”Ÿæ´»ç”¢å“">Probiolife ç›Šç”Ÿæ´»ç”¢å“</button>
  <button class="tab-btn p-2 border rounded" data-category="å¼·å…ç–«æ‹æª”">å¼·å…ç–«æ‹æª”</button>
  <button class="tab-btn p-2 border rounded" data-category="Biotrace/Simply Potent ç³»åˆ—">Biotrace/Simply Potent ç³»åˆ—</button>
  <button class="tab-btn p-2 border rounded" data-category="å£è…”å¥åº·">å£è…”å¥åº·</button>
  <button class="tab-btn p-2 border rounded" data-category="ProHealth ç³»åˆ—">ProHealth ç³»åˆ—</button>
  <button class="tab-btn p-2 border rounded" data-category="é—œæ•™æˆç²¾é¸">é—œæ•™æˆç²¾é¸</button>
</div>


  <div class="mt-6 border-t pt-4">
    <p>åŸåƒ¹ç¸½å’Œï¼š<span id="total-original">0</span> HKD</p>
    <p>æœƒå ´åƒ¹ç¸½å’Œï¼š<span id="total-sale">0</span> HKD</p>
    <p>æŠ˜æ‰£é‡‘é¡ï¼š<span id="total-discount">0</span> HKD</p>
    <p>é‹è²»ï¼š<span id="shipping">0</span> HKD</p>
    <p class="text-xl font-bold">è¨‚å–®ç¸½é‡‘é¡ï¼š<span id="grand-total">0</span> HKD</p>
  </div>

  <div id="gift-section" class="mt-6 hidden">
    <h2 class="text-lg font-bold mb-2 text-green-600">ğŸ è´ˆå“æ˜ç´°</h2>
    <ul id="gift-list" class="list-disc list-inside"></ul>
  </div>

  <!-- ç§»åˆ°åº•éƒ¨çš„æ“ä½œæŒ‰éˆ• -->
  <div class="mt-6 space-y-2">
    <button id="submit-btn" class="w-full bg-blue-600 text-white p-3 rounded">è¨‚å–®æ‘˜è¦</button>
    <button id="whatsapp-btn" class="w-full bg-green-500 text-white p-3 rounded">WhatsApp å‚³é€è¨‚å–®</button>
    <button id="reset-btn" class="w-full bg-gray-400 text-white p-3 rounded">é‡è¨­è¡¨å–®</button>
  </div>
</div>

<script>
const categories = {
  'Probiolife': [1,2,3,4,5,6,7,8,9,10,11],
  'Immune': [12,13,14,15,16,17,18],
  'Biotrace': [19,20,21,22,23,24,25,26,27,28,29,30],
  'Oral': [33,34,35,36,37,38],
  'ProHealth': [39,40,41,42,43,44],
  'Professor': [31,32,45,46,47,48,49,50]
};

const allProducts =[
  { id: 1, name: "é‡‘è£ç›Šçº–èŒ ", url: "https://hskgene.com/products/probiolife-probiotics" },
  { id: 2, name: "ç›Šç·’å¯§ Lpc-37", url: "https://hskgene.com/products/probiolife-lpc37" },
  { id: 3, name: "ç›Šçº–è›‹ç™½ (å®¶ç”¨å¢é‡è£)", url: "https://hskgene.com/products/probiolife-slim-protein-familypack" },
  { id: 4, name: "å¥è—»æ²¹ å¥§ç±³åŠ -3 è—»æ²¹ DHA", url: "https://hskgene.com/products/probiolife-algae-oil" },
  { id: 5, name: "é‡‘è£ç›Šçº–èŒ/ç›Šç·’å¯§ä»»é¸ä¸‰ç›’", optionNote: `<a href="https://hskgene.com/products/probiolife-probiotics" target="_blank" class="underline text-blue-600 hover:text-blue-800">é‡‘è£ç›Šçº–èŒ</a> <a href="https://hskgene.com/products/probiolife-lpc37target="_blank" class="underline text-blue-600 hover:text-blue-800">/ ç›Šç·’å¯§</a>ä»»é¸ä¸‰ç›’--è«‹è¨»æ˜ ğŸ è´ˆé€ï¼š<a href="https://hskgene.com/products/probiolife-probiotics-72-dark-chocolate-nuts-deluxe-old" target="_blank" class="underline text-blue-600 hover:text-blue-800">ç›Šç”ŸèŒå±±æ ¸æ¡ƒé»‘æœ±å¤åŠ›(é‡‘è£)1æ¨½` },
  { id: 6, name: "é‡‘è£ç›Šçº–èŒ/ç›Šç·’å¯§Lpc-37ä»»é¸å…©ç›’", optionNote: `<a href="https://hskgene.com/products/probiolife-probiotics" target="_blank" class="underline text-blue-600 hover:text-blue-800">é‡‘è£ç›Šçº–èŒ</a> <a href="https://hskgene.com/products/probiolife-lpc37target="_blank" class="underline text-blue-600 hover:text-blue-800">/ ç›Šç·’å¯§</a>ä»»é¸å…©ç›’--è«‹è¨»æ˜ ğŸ è´ˆé€ï¼š<a href="https://hskgene.com/products/5-1" target="_blank" class="underline text-blue-600 hover:text-blue-800">é‡‘è£ç›Šçº–èŒ(5åŒ…è©¦ç”¨è£)1ä»½</a>` },
  { id: 7, name: "å¥è—»æ²¹ä¸€ç›’ ï¼‹ ç›Šçº–èŒé‡‘è£/ç›Šç·’å¯§Lpc-37ä»»é¸å£¹ç›’", optionNote: `<a href="https://hskgene.com/products/probiolife-algae-oil" target="_blank" class="underline text-blue-600 hover:text-blue-800">å¥è—»æ²¹ + </a><a href="https://hskgene.com/products/probiolife-probiotics" target="_blank" class="underline text-blue-600 hover:text-blue-800">é‡‘è£ç›Šçº–èŒ</a> <a href="https://hskgene.com/products/probiolife-lpc37target="_blank" class="underline text-blue-600 hover:text-blue-800">/ ç›Šç·’å¯§</a>ä»»é¸å£¹ç›’--è«‹è¨»æ˜ ğŸ è´ˆé€ï¼š<a href="https://hskgene.com/products/that-s-it-pear" target="_blank" class="underline text-blue-600 hover:text-blue-800">That's it 100%ç´”æ°´æœæ£’1æ¢ï¼ˆæ¢¨å‘³ï¼‰</a>` },
  { id: 8, name: "2xç›Šçº–è›‹ç™½ (å®¶ç”¨å¢é‡è£) ", url: "https://hskgene.com/products/probiolife-slim-protein-familypack", optionNote: `ğŸ è´ˆé€ï¼š<a href="https://hskgene.com/products/protein_shaker" target="_blank" class="underline text-blue-600 hover:text-blue-800">ç›Šç”Ÿæ´»è›‹ç™½ç²‰æ–æ–æ¯</a>` },
  { id: 9,name: "é‡‘è£ç›Šçº–èŒ (5åŒ…è©¦ç”¨è£)",url: "https://hskgene.com/products/5-1",optionNote: `ğŸª™ åŠ è³¼åƒ¹: $38ï¼ˆæ¯å–®ä¸€æ¬¡)</span>`},
  { id: 10, name: "ç›Šç”Ÿæ´» è›‹ç™½ç²‰æ–æ–æ¯", url: "https://hskgene.com/products/protein_shaker" },
  { id: 11, name: "GUTSY LITEé«”é©—è¨ˆåŠƒ", url: "https://hskgene.com/products/gutsy-lite-gut-health-management" },
  { id: 12, name: "Lactovital ä¹³éµè›‹ç™½è† å›Š(1æ¨½)", url: "https://hskgene.com/products/lactovital-spray-dried-lactoferrin" },
  { id: 13, name: "Lactovital ä¹³éµè›‹ç™½è† å›Š(2æ¨½)", url: "https://hskgene.com/products/lactovital-spray-dried-lactoferrin" },
  { id: 14, name: "æŠµæŠ—åŠ›æ‹æª”å¥—è£", optionNote: `<a href="https://hskgene.com/products/probiolife-probiotics" target="_blank" class="underline text-blue-600 hover:text-blue-800">é‡‘è£ç›Šçº–èŒ</a> + <a href="https://hskgene.com/products/lactovital-spray-dried-lactoferrin" target="_blank" class="underline text-blue-600 hover:text-blue-800">Lactovital ä¹³éµè›‹ç™½è† å›Š</a>` },
  { id: 15, name: "æ¶ˆåŒ–å…ç–«ç˜¦èº«çµ„åˆ", optionNote: `<a href="https://hskgene.com/products/probiolife-slim-protein-familypack" target="_blank" class="underline text-blue-600 hover:text-blue-800">ç›Šçº–è›‹ç™½(å®¶ç”¨å¢é‡è£)</a> + <a href="https://hskgene.com/products/lactovital-spray-dried-lactoferrin" target="_blank" class="underline text-blue-600 hover:text-blue-800">Lactovital ä¹³éµè›‹ç™½è† å›Š</a>` },
  { id: 16, name: "åŸºæœ¬å…ç–«ä¸‰åˆä¸€", optionNote: `<a href="https://hskgene.com/products/simply-potent-vit-c-1200mg-90days" target="_blank" class="underline text-blue-600 hover:text-blue-800">è„‚è³ªé«”ç¶­ä»–å‘½C (1200æ¯«å…‹)</a> + <a href="https://hskgene.com/products/biotrace-d3" target="_blank" class="underline text-blue-600 hover:text-blue-800">ç´ é£Ÿç¶œåˆç¶­ä»–å‘½D3+K2+é‚</a> + <a href="https://hskgene.com/products/biotrace-10" target="_blank" class="underline text-blue-600 hover:text-blue-800">Biotrace æœ‰æ©Ÿé‹…</a>` },
  { id: 17, name: "è…¸é“å¥åº·å…ç–«å¥—è£", optionNote: `<a href="https://hskgene.com/products/probiolife-probiotics" target="_blank" class="underline text-blue-600 hover:text-blue-800">probiolife-probiotics</a> + <a href="https://hskgene.com/products/lactovital-spray-dried-lactoferrin" target="_blank" class="underline text-blue-600 hover:text-blue-800">Lactovital ä¹³éµè›‹ç™½è† å›Š</a> + <a href="https://hskgene.com/products/biotrace-10" target="_blank" class="underline text-blue-600 hover:text-blue-800">Biotrace æœ‰æ©Ÿé‹…</a>` },
  { id: 18, name: "å®¶åº­å¼·æ•ˆå…ç–«å¥—è£", optionNote: `<a href="https://hskgene.com/products/probiolife-probiotics" target="_blank" class="underline text-blue-600 hover:text-blue-800">é‡‘è£ç›Šçº–èŒ</a> + <a href="https://hskgene.com/products/simply-potent-vit-c-1200mg-90days" target="_blank" class="underline text-blue-600 hover:text-blue-800">è„‚è³ªé«”ç¶­ä»–å‘½C (1200æ¯«å…‹)</a> + <a href="https://hskgene.com/products/biotrace-d3" target="_blank" class="underline text-blue-600 hover:text-blue-800">Biotrace ç´ é£Ÿç¶œåˆç¶­ä»–å‘½D3+K2+é‚</a>` },
  { id: 19, name: "Biotrace ç´ é£Ÿç¶œåˆç¶­ä»–å‘½D3+K2+é‚", url: "https://hskgene.com/products/biotrace-d3" },
  { id: 20, name: "Biotrace å¾®é‡å…ƒç´  ç¡’", url: "https://hskgene.com/products/biotrace-7" },
  { id: 21, name: "Biotrace å¾®é‡å…ƒç´  é‚", url: "https://hskgene.com/products/biotrace-3" },
  { id: 22, name: "Biotrace å¾®é‡å…ƒç´  é‹…", url: "https://hskgene.com/products/biotrace-4" },
  { id: 23, name: "Biotrace è¤‡åˆå¾®é‡å…ƒç´ ï¼ˆæ·»åŠ éŠ…ï¼‰", url: "https://hskgene.com/products/biotrace-5" },
  { id: 24, name: "Biotrace è¤‡åˆå¾®é‡å…ƒç´ ï¼ˆä¸æ·»åŠ éŠ…ï¼‰", url: "https://hskgene.com/products/biotrace-6" },
  { id: 25, name: "Biotrace å¾®é‡å…ƒç´  ç¡¼", url: "https://hskgene.com/products/biotrace-8" },
  { id: 26, name: "Biotrace æª¸æª¬é…¸é‚ è† å›Š", url: "https://hskgene.com/products/biotrace-1" },
  { id: 27, name: "Biotrace æœ‰æ©Ÿé‹…", url: "https://hskgene.com/products/biotrace-10" },
  { id: 28, name: "Biotrace ç”Ÿç‰©å¤§è’œç´ ", url: "https://hskgene.com/products/biotrace-9" },
  { id: 29, name: "Simply Potentè„‚è³ªé«”ç¶­ä»–å‘½C (1200æ¯«å…‹)", url: "https://hskgene.com/products/simply-potent-vit-c-1200mg-90days" },
  { id: 30, name: "Simply Potentè„‚è³ªé«”ç¶­ä»–å‘½C (1500æ¯«å…‹)", url: "https://hskgene.com/products/simply-potent-vit-c-1500mg-90days" },
  { id: 31, name: "å°é’æŸ‘æ™®æ´±èŒ¶ " },
  { id: 32, name: "ç”Ÿå“‚å°é’æŸ‘æ™®æ´±èŒ¶" },
  { id: 33, name: "å¤©ç„¶ç”Ÿç‰©æº¶èŒé…¶ç‰™è† 9.5æˆäººè£", url: "https://hskgene.com/products/toothpaste_adult" },
  { id: 34, name: "å¤©ç„¶ç”Ÿç‰©æº¶èŒé…¶ç‰™è†9.5æˆäººè£ (å­–è£)", url: "https://hskgene.com/products/toothpaste_adult" },
  { id: 35, name: "å¤©ç„¶ç”Ÿç‰©æº¶èŒé…¶ç‰™è†å…’ç«¥è£", url: "https://hskgene.com/products/toothpaste_kid" },
  { id: 36, name: "å¤©ç„¶ç”Ÿç‰©æº¶èŒé…¶ç‰™è†å…’ç«¥è£ (å­–è£)", url: "https://hskgene.com/products/toothpaste_kid" },
  { id: 37, name: "å¤©ç„¶ç”Ÿç‰©æº¶èŒé…¶ç‰™è†9.5æˆäººè£ å…’ç«¥è£ å„äºŒ", optionNote: `<a href="https://hskgene.com/products/toothpaste_adult" target="_blank" class="underline text-blue-600 hover:text-blue-800">ç”Ÿç‰©æº¶èŒé…¶ç‰™è†9.5æˆäººè£</a> + <a href="https://hskgene.com/products/toothpaste_kid" target="_blank" class="underline text-blue-600 hover:text-blue-800">å¤©ç„¶ç”Ÿç‰©æº¶èŒé…¶ç‰™è†å…’ç«¥è£</a>` },
  { id: 38, name: "Biotrace ç›Šç”ŸèŒæ½”å£æ¶²", url: "https://hskgene.com/products/oral_probiotics", optionNote: `ğŸ è´ˆé€ï¼šç”Ÿç‰©æº¶èŒé…¶ç‰™è† (æ—…è¡Œè£)</a>` },
  { id: 39, name: "Prohealth NMN Pro 500å¢å¼·å¸æ”¶è† å›Š", url: "https://hskgene.com/products/prohealth-longevity-nmn-pro-500-nmn-15000-60-500" },
  { id: 40, name: "Prohealthåå¼ç™½è—œè˜†é†‡", url: "https://hskgene.com/products/trans-resveratrol-1000" },
  { id: 41, name: "Prohealth NMN Pro 500ï¼‹åå¼ç™½è—œè˜†é†‡[å¥—è£]", url: "https://hskgene.com/products/prohealth-longevity-nmn-pro-500-nmn-15000-60-500" },
  { id: 42, name: "Prohealth ç¶­ä»–å‘½D3", url: "https://hskgene.com/products/prohealth-d3" },
  { id: 43, name: "Prohealth éˆ£-AKGè£œå……é…æ–¹", url: "https://hskgene.com/products/proheath-calcium_akg-60" },
  { id: 44, name: "Prohealth S-ä¹™é…°ç©€èƒ±ç”˜è‚½", url: "https://hskgene.com/products/prohealth_s-acetyl-glutathione" },
  { id: 45, name: "That's ité®®æœæ£’(è¿·ä½ ) ", optionNote: `èŠ’æœå‘³/è—è“å‘³/è‰è“å‘³/é¦™è•‰å‘³--è«‹è¨»æ˜</a>` },
  { id: 46, name: "That's itç„¡æ·»åŠ ç³–ç›Šç”ŸèŒæ°´æœæ£’", url: "https://hskgene.com/products/that-s-it", optionNote: `ç„¡èŠ±æœå‘³/èŠ’æœå‘³/è—è“å‘³--è«‹è¨»æ˜</a>` },
  { id: 47, name: "æ™ºèƒ½ç„¡ç·šæ‰‹è…•æŒ‡ç’°è„ˆæè¡€æ°§å„€", url: "https://hskgene.com/products/sleepu" },
  { id: 48, name: "Optipillow EPAP æ¸›å°‘é¼»é¼¾ç¡çœ é¼»ç½©", url: "https://hskgene.com/products/optipillow-epap" },
  {
  id: 49,
  name: "ç›Šç”ŸåŠæ¹¯åŒ…ä»»é¸ä¸€åŒ…",
  optionNote: `
    è«‹è¨»æ˜: 
    <a href="https://hskgene.com/products/pleurotus-eryngii" target="_blank" class="underline text-blue-600 hover:text-blue-800">æé®‘èºç‰‡æ¸…ç†±æ¹¯åŒ…</a> /
    <a href="https://hskgene.com/products/agaricus-mushrooms" target="_blank" class="underline text-blue-600 hover:text-blue-800">å§¬æ¾èŒ¸é›™è‡å¥é«”æ¹¯åŒ…</a> /
    <a href="https://hskgene.com/products/shark-bone-soup" target="_blank" class="underline text-blue-600 hover:text-blue-800">é¯Šé­šéª¨çŒ´é ­è‡æ½¤è‚ºæ¹¯åŒ…</a>
    ğŸª™ åŠ è³¼åƒ¹: $20ï¼ˆæ¯å–®ä¸€æ¬¡ï¼‰</span>`},
  { id: 50, name: "ç›Šç”ŸåŠæ¹¯åŒ…ä»»é¸3åŒ…", optionNote: `è«‹è¨»æ˜: <a href="https://hskgene.com/products/pleurotus-eryngii" target="_blank" class="underline text-blue-600 hover:text-blue-800">æé®‘èºç‰‡æ¸…ç†±æ¹¯åŒ…</a> / <a href="https://hskgene.com/products/agaricus-mushrooms" target="_blank" class="underline text-blue-600 hover:text-blue-800">å§¬æ¾èŒ¸é›™è‡å¥é«”æ¹¯åŒ…</a> / <a href="https://hskgene.com/products/shark-bone-soup" target="_blank" class="underline text-blue-600 hover:text-blue-800">é¯Šé­šéª¨çŒ´é ­è‡æ½¤è‚ºæ¹¯åŒ…</a>` }
];


const categoryMap = {
  "Probiolife ç›Šç”Ÿæ´»ç”¢å“": Array.from({ length: 11 }, (_, i) => i + 1),
  "å¼·å…ç–«æ‹æª”": Array.from({ length: 7 }, (_, i) => i + 12),
  "Biotrace/Simply Potent ç³»åˆ—": Array.from({ length: 12 }, (_, i) => i + 19),
  "å£è…”å¥åº·": [33, 34, 35, 36, 37, 38],
  "ProHealth ç³»åˆ—": [39, 40, 41, 42, 43, 44],
  "é—œæ•™æˆç²¾é¸": [31, 32, 45, 46, 47, 48, 49, 50]
};
;

const productPrices = {
  1: { original: 585, sale: 428 },
  2: { original: 685, sale: 428 },
  3: { original: 460, sale: 338 },
  4: { original: 285, sale: 188 },
  5: { original: 2343, sale: 1180 },
  6: { original: 1468, sale: 828 },
  7: { original: 998, sale: 588 },
  8: { original: 1008, sale: 580 },
  9: { original: 98, sale: 68 },
  10: { original: 88, sale: 58 },
  11: { original: 5980, sale: 4980 },
  12: { original: 680, sale: 368 },
  13: { original: 880, sale: 598 },
  14: { original: 888, sale: 598 },
  15: { original: 828, sale: 588 },
  16: { original: 1128, sale: 880 },
  17: { original: 1128, sale: 880 },
  18: { original: 1228, sale: 1080 },
  19: { original: 488, sale: 438 },
  20: { original: 268, sale: 238 },
  21: { original: 288, sale: 258 },
  22: { original: 268, sale: 238 },
  23: { original: 288, sale: 258 },
  24: { original: 288, sale: 258 },
  25: { original: 288, sale: 258 },
  26: { original: 388, sale: 348 },
  27: { original: 428, sale: 368 },
  28: { original: 388, sale: 338 },
  29: { original: 668, sale: 358 },
  30: { original: 768, sale: 388 },
  31: { original: 388, sale: 388 },
  32: { original: 480, sale: 480 },
  33: { original: 59, sale: 48 },
  34: { original: 89, sale: 78 },
  35: { original: 38, sale: 30 },
  36: { original: 59, sale: 48 },
  37: { original: 149, sale: 118 },
  38: { original: 468, sale: 268 },
  39: { original: 968, sale: 468 },
  40: { original: 568, sale: 328 },
  41: { original: 1568, sale: 698 },
  42: { original: 268, sale: 188 },
  43: { original: 388, sale: 280 },
  44: { original: 998, sale: 628 },
  45: { original: 13, sale: 10 },
  46: { original: 36, sale: 24 },
  47: { original: 1268, sale: 1268 },
  48: { original: 1638, sale: 1638 },
  49: { original: 48, sale: 42 },
  50: { original: 144, sale: 100 }
};


let productQuantities = {};
function hasMainProductSelected() {
  let hasMain = false;
  document.querySelectorAll('[data-product-id]').forEach(input => {
    const qty = parseInt(input.value);
    const id = parseInt(input.getAttribute('data-product-id'));
    if (qty > 0 && ((id >= 1 && id <= 8) || (id >= 12 && id <= 50))) {
      hasMain = true;
    }
  });
  return hasMain;
}



function renderProducts(category) {
  const productsDiv = document.getElementById('products');
  productsDiv.innerHTML = '';

  const headerRow = document.createElement('div');
  headerRow.className = 'product-header';
  headerRow.innerHTML = `
    <div>ç”¢å“åç¨±</div>
    <div>åŸåƒ¹</div>
    <div>æœƒå ´åƒ¹</div>
    <div>æ•¸é‡</div>
  `;
  productsDiv.appendChild(headerRow);

  const filterIds = category === 'å…¨éƒ¨'
    ? allProducts.map(p => p.id)
    : categoryMap[category] || [];

  allProducts.filter(p => filterIds.includes(p.id)).forEach(product => {
    const qty = productQuantities[product.id] || 0;
    const optionNote = product.optionNote || '';

    const wrapper = document.createElement('div');
    wrapper.className = 'product-row';

    // å•†å“åç¨±å€å¡Š
    const nameCol = document.createElement('div');
    nameCol.className = 'product-name';
    nameCol.innerHTML = product.url
      ? `<a href="${product.url}" target="_blank" class="text-blue-700 underline hover:text-blue-900">${product.name}</a>`
      : product.name;

    if (optionNote) {
      const note = document.createElement('div');
      note.className = 'text-sm text-gray-700';
      note.innerHTML = optionNote;
      nameCol.appendChild(note);
    }

    // åŸåƒ¹æ¬„ï¼ˆå« mobile labelï¼‰
    const originalPrice = document.createElement('div');
    originalPrice.className = 'price-cell';
    originalPrice.innerHTML = `
      <span class="mobile-label">åŸåƒ¹ï¼š</span>
      ${productPrices[product.id]?.original ? productPrices[product.id].original + ' HKD' : ''}
    `;

    // æœƒå ´åƒ¹æ¬„ï¼ˆç´…å­—ï¼‰
    const salePrice = document.createElement('div');
    salePrice.className = 'price-cell sale';
    salePrice.innerHTML = `
      <span class="mobile-label">æœƒå ´åƒ¹ï¼š</span>
      ${productPrices[product.id]?.sale ? productPrices[product.id].sale + ' HKD' : ''}
    `;

    // æ•¸é‡æ§åˆ¶æ¬„
    const controlCol = document.createElement('div');
    controlCol.className = 'control-cell';
    controlCol.innerHTML = `<span class="mobile-label">æ•¸é‡ï¼š</span>`;

    const controlFlex = document.createElement('div');
    controlFlex.className = 'flex items-center gap-1';

    const minusBtn = document.createElement('button');
    minusBtn.textContent = '-';
    minusBtn.className = 'px-2 py-1 bg-gray-200 hover:bg-gray-300';
    minusBtn.addEventListener('click', () => {
      if (qty > 0) {
        productQuantities[product.id] = qty - 1;
        renderProducts(category);
        updateOrderSummary();
      }
    });

    const qtyDisplay = document.createElement('span');
    qtyDisplay.textContent = qty;
    qtyDisplay.className = 'px-2';

    const plusBtn = document.createElement('button');
    plusBtn.textContent = '+';
    plusBtn.className = 'px-2 py-1 bg-gray-200 hover:bg-gray-300';
    plusBtn.addEventListener('click', () => {
      productQuantities[product.id] = qty + 1;
      renderProducts(category);
      updateOrderSummary();
    });

    controlFlex.appendChild(minusBtn);
    controlFlex.appendChild(qtyDisplay);
    controlFlex.appendChild(plusBtn);
    controlCol.appendChild(controlFlex);

    // å°‡æ‰€æœ‰æ¬„ä½å¡å…¥ wrapper
    wrapper.appendChild(nameCol);
    wrapper.appendChild(originalPrice);
    wrapper.appendChild(salePrice);
    wrapper.appendChild(controlCol);

    productsDiv.appendChild(wrapper);
  });
}




function setupProductListeners() {
  document.querySelectorAll('[data-product-id]').forEach(input => {
    input.addEventListener('input', (e) => {
      const id = parseInt(e.target.getAttribute('data-product-id'));
      const qty = parseInt(e.target.value) || 0;
      const wasMain = hasMainProductSelected();

      if (qty > 0) {
        productQuantities[id] = qty;
      } else {
        delete productQuantities[id];
      }

      const isMain = hasMainProductSelected();
      updateOrderSummary();

      // ğŸ” è‹¥ä¸»å•†å“ç‹€æ…‹æ”¹è®Šï¼Œéœ€å¼·åˆ¶æ›´æ–°åƒ¹æ ¼é¡¯ç¤º
      if (wasMain !== isMain) {
        updateProductPrices(); // å°ˆé–€åªæ›´æ–°åƒ¹æ ¼å€
      } else {
        // åƒ…æ›´æ–°è©²ç­†è¼¸å…¥å½±éŸ¿çš„å•†å“å°è¨ˆï¼ˆå¯é¸æ“‡åŠ ä¸Šï¼‰
      }
    });
  });
}





function updateOrderSummary() {
  let totalOriginal = 0;
  let totalSale = 0;

  const quantities = {};
  let hasMainProduct = false;
  let specialCount = 0;

  for (const idStr in productQuantities) {
  const id = parseInt(idStr);
  const qty = productQuantities[id];
  if (qty > 0) {
    quantities[id] = qty;

    if ((id >= 1 && id <= 8) || (id >= 10 && id <= 48) || id === 50) {
      hasMainProduct = true;
    }

    if (id === 9 || id === 49) {
      specialCount += qty;
    }
  }
}


  const allowSpecialPrice = hasMainProduct || specialCount >= 2;

  for (const idStr in quantities) {
    const id = parseInt(idStr);
    const qty = quantities[id];
    const priceInfo = productPrices[id] || { original: 100, sale: 80 };
    let originalPrice = priceInfo.original;
    let salePrice = priceInfo.sale;

    if (id === 9) {
  const useDiscountQty = allowSpecialPrice ? Math.min(1, qty) : 0;
  const normalQty = qty - useDiscountQty;
  totalOriginal += priceInfo.original * qty;
  totalSale += useDiscountQty * 38 + normalQty * 68;
  continue;
    }

  if (id === 49) {
  const useDiscountQty = allowSpecialPrice ? Math.min(1, qty) : 0;
  const normalQty = qty - useDiscountQty;
  totalOriginal += priceInfo.original * qty;
  totalSale += useDiscountQty * 20 + normalQty * 42;
  continue;
    }


    totalOriginal += originalPrice * qty;
    totalSale += salePrice * qty;
  }

  const discount = totalOriginal - totalSale;
  const hasProducts = Object.values(quantities).some(qty => qty > 0);
  const pickup = document.querySelector('input[name="pickup"]:checked')?.value || '';
  const shipping = (pickup === 'é€è²¨' && hasProducts && totalSale < 500) ? 50 : 0;
  const grandTotal = totalSale + shipping;

  document.getElementById('total-original').innerText = totalOriginal;
  document.getElementById('total-sale').innerText = totalSale;
  document.getElementById('total-discount').innerText = discount;
  document.getElementById('shipping').innerText = shipping;
  document.getElementById('grand-total').innerText = grandTotal;

  updateGiftList();
}


function updateProductPrices() {
  document.querySelectorAll('[data-product-id]').forEach(input => {
    const id = parseInt(input.getAttribute('data-product-id'));
    const qty = productQuantities[id] || 0;
    const pid = parseInt(id);
    const priceInfo = productPrices[pid] || { original: 100, sale: 80 };
    const originalPrice = priceInfo.original;

    let salePrice = priceInfo.sale;
    if (pid === 9) salePrice = hasMainProductSelected() ? 38 : 68;
    if (pid === 49) salePrice = hasMainProductSelected() ? 20 : 42;

    // æ›´æ–°å°æ‡‰ç”¢å“çš„é¡¯ç¤ºåƒ¹æ ¼
    const wrapper = input.closest('.grid');
    if (wrapper) {
      wrapper.querySelector('.text-red-600').innerText = `${salePrice} HKD`;
    }
  });
}

function updateGiftList() {
  const giftSection = document.getElementById('gift-section');
  const giftList = document.getElementById('gift-list');
  giftList.innerHTML = '';

  let gifts = [];

  if (productQuantities[5]) {
    for (let i = 0; i < productQuantities[5]; i++) {
      gifts.push('1x ç›Šç”ŸèŒ å±±æ ¸æ¡ƒ é»‘æœ±å¤åŠ› (é‡‘è£)');
    }
  }
  if (productQuantities[6]) {
    for (let i = 0; i < productQuantities[6]; i++) {
      gifts.push('1x ç›Šçº–èŒ é‡‘è£ (5åŒ…è©¦ç”¨è£)');
    }
  }
  if (productQuantities[7]) {
    for (let i = 0; i < productQuantities[7]; i++) {
      gifts.push('1x That\'s it 100%ç´”æ°´æœæ£’ï¼ˆæ¢¨å‘³ï¼‰');
    }
  }
  if (productQuantities[8]) {
    for (let i = 0; i < productQuantities[8]; i++) {
      gifts.push('1x ç›Šç”Ÿæ´» è›‹ç™½ç²‰æ–æ–æ¯');
    }
  }
  if (productQuantities[38]) {
    for (let i = 0; i < productQuantities[38]; i++) {
      gifts.push('1x ç”Ÿç‰©æº¶èŒé…¶ç‰™è† (æ—…è¡Œè£)');
    }
  }

  gifts.forEach(gift => {
    const li = document.createElement('li');
    li.innerText = gift;
    giftList.appendChild(li);
  });

  if (gifts.length > 0) {
    giftSection.classList.remove('hidden');
  } else {
    giftSection.classList.add('hidden');
  }
}

document.addEventListener('DOMContentLoaded', () => {
  renderProducts('å…¨éƒ¨');
  updateOrderSummary();

  const tabButtons = document.querySelectorAll('.tab-btn');
  tabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
  tabButtons.forEach(b => b.classList.remove('bg-blue-500', 'text-white'));
  btn.classList.add('bg-blue-500', 'text-white');
  const category = btn.getAttribute('data-category');
  renderProducts(category);
  updateOrderSummary(); // ğŸŸ¢ åŠ é€™ä¸€è¡Œï¼šä¿è­‰åˆ‡æ›åˆ†é¡æ™‚ç¸½é‡‘é¡æ­£ç¢ºé‡ç®—
});
    // ç›£è½å–è²¨æ–¹å¼åˆ‡æ› â†’ ç«‹å³æ›´æ–°é‡‘é¡é¡¯ç¤º
  document.querySelectorAll('input[name="pickup"]').forEach(radio => {
  radio.addEventListener('change', updateOrderSummary);
});
});
  });

// æ–°å¢æäº¤æŒ‰éˆ•äº‹ä»¶
document.getElementById('submit-btn').addEventListener('click', () => handleOrder(false));
document.getElementById('whatsapp-btn').addEventListener('click', () => handleOrder(true));
document.getElementById('reset-btn').addEventListener('click', () => {
  if (confirm('ç¢ºå®šè¦é‡è¨­æ‰€æœ‰è³‡æ–™ï¼Ÿ')) {
    ['name','phone','email','address','remark'].forEach(id => document.getElementById(id).value = '');
    productQuantities = {}; // æ¸…ç©ºå•†å“é¸æ“‡
    renderProducts('å…¨éƒ¨'); // é‡æ–°é¡¯ç¤ºç”¢å“æ¸…å–®
    updateOrderSummary(); // é‡è¨­é‡‘é¡
    const giftSection = document.getElementById('gift-section');
    if (giftSection) giftSection.classList.add('hidden');
  }
});

function handleOrder(isWhatsApp) {
  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const email = document.getElementById('email').value.trim();
  const address = document.getElementById('address')?.value.trim() || '';
  const remark = document.getElementById('remark')?.value.trim() || '';
  const pickup = document.querySelector('input[name="pickup"]:checked')?.value || '';
  const payment = document.querySelector('input[name="payment"]:checked')?.value || '';
  const total = document.getElementById('grand-total').innerText;

  if (!name || !phone) {
    alert('è«‹å¡«å¯«å§“åå’Œé›»è©±ï¼');
    return;
  }

  let orderDetails = '';
  const quantities = {};
  let hasMainProduct = false;
  let specialCount = 0;

  for (const idStr in productQuantities) {
    const id = parseInt(idStr);
    const qty = productQuantities[id];
    if (qty > 0) {
      quantities[id] = qty;

      const label = allProducts.find(p => p.id === id)?.name || `å•†å“ ${id}`;
      const priceInfo = productPrices[id] || { original: 100, sale: 80 };

      if ((id >= 1 && id <= 8) || (id >= 10 && id <= 48) || id === 50) {
        hasMainProduct = true;
      }

      if (id === 9 || id === 49) {
        specialCount += qty;
      }

      const allowSpecialPrice = hasMainProduct || specialCount >= 2;

      if (id === 9) {
        const useDiscountQty = allowSpecialPrice ? Math.min(1, qty) : 0;
        const normalQty = qty - useDiscountQty;
        if (useDiscountQty > 0) orderDetails += `â€¢ ${label} x 1åŒ…ï¼ˆåŠ è³¼åƒ¹38 HKD/åŒ…ï¼‰\n`;
        if (normalQty > 0) orderDetails += `â€¢ ${label} x ${normalQty}ç›’ï¼ˆ68 HKD/åŒ…ï¼‰\n`;
        continue;
      }

      if (id === 49) {
        const useDiscountQty = allowSpecialPrice ? Math.min(1, qty) : 0;
        const normalQty = qty - useDiscountQty;
        if (useDiscountQty > 0) orderDetails += `â€¢ ${label} x 1åŒ…ï¼ˆåŠ è³¼åƒ¹20 HKD/åŒ…ï¼‰\n`;
        if (normalQty > 0) orderDetails += `â€¢ ${label} x ${normalQty}åŒ…ï¼ˆ42 HKD/åŒ…ï¼‰\n`;
        continue;
      }

      const unitPrice = priceInfo.sale;
      const subtotal = qty * unitPrice;
      orderDetails += `â€¢ ${label} x ${qty}ä»½ï¼ˆ${unitPrice} HKD/ä»½ï¼Œå…± ${subtotal} HKDï¼‰\n`;
    }
  }

  let giftDetails = '';
  document.querySelectorAll('#gift-list li').forEach(li => {
    giftDetails += `ğŸ ${li.innerText}\n`;
  });

  const summary = `
ã€æ”¶åˆ°è¨‚å–®å¾Œ,æˆ‘å€‘æœƒæœ‰å°ˆäººä»¥WhatsAppè¯çµ¡æ‚¨æœ‰é—œä»˜æ¬¾åŠæ”¶è²¨äº‹å®œã€‚æœ€çµ‚åƒ¹æ ¼å’Œè´ˆå“æ•¸é‡ä»¥whatsApp ç¢ºèªç‚ºæº–ã€‚ã€‘
ã€è¨‚å–®æ‘˜è¦ã€‘
å§“åï¼š${name}
é›»è©±ï¼š${phone}
é›»éƒµï¼š${email}
å–è²¨æ–¹å¼ï¼š${pickup}
ä»˜æ¬¾æ–¹å¼ï¼š${payment}
é€è²¨åœ°å€ï¼š${address}
å‚™è¨»ï¼š${remark}

ã€è³¼è²·å•†å“ã€‘
${orderDetails || 'ï¼ˆç„¡ï¼‰'}

ã€è´ˆå“ã€‘
${giftDetails || 'ï¼ˆç„¡ï¼‰'}

è¨‚å–®ç¸½é‡‘é¡ï¼š${total} HKD
`;

if (isWhatsApp) {
  const whatsappNumber = '85257023008';
  const encodedMsg = encodeURIComponent(summary);
  window.open(`https://wa.me/${whatsappNumber}?text=${encodedMsg}`, '_blank');
} else {
    showSummaryPopup(summary); 
}
}
function showSummaryPopup(summary) {
  // ç§»é™¤èˆŠçš„ popupï¼ˆå¦‚æœæœ‰ï¼‰
  const old = document.getElementById('order-summary-popup');
  if (old) old.remove();

  const popup = document.createElement('div');
  popup.id = 'order-summary-popup';
  popup.style.position = 'fixed';
  popup.style.top = '50%';
  popup.style.left = '50%';
  popup.style.transform = 'translate(-50%, -50%)';
  popup.style.background = 'white';
  popup.style.padding = '20px';
  popup.style.border = '1px solid #ccc';
  popup.style.boxShadow = '0 0 10px rgba(0,0,0,0.3)';
  popup.style.zIndex = '10000';
  popup.style.maxWidth = '90%';
  popup.style.maxHeight = '80%';
  popup.style.overflowY = 'auto';

  const textarea = document.createElement('textarea');
  textarea.value = summary;
  textarea.style.width = '100%';
  textarea.style.height = '300px';
  textarea.style.fontSize = '14px';
  textarea.style.fontFamily = 'Noto Sans TC, sans-serif';
  textarea.style.padding = '10px';

  const copyBtn = document.createElement('button');
  copyBtn.innerText = 'ğŸ“‹ è¤‡è£½å…§å®¹';
  copyBtn.style.margin = '10px';
  copyBtn.style.padding = '8px 12px';
  copyBtn.style.background = '#10b981';
  copyBtn.style.color = 'white';
  copyBtn.style.border = 'none';
  copyBtn.style.borderRadius = '5px';
  copyBtn.addEventListener('click', () => {
    textarea.select();
    document.execCommand('copy');
    copyBtn.innerText = 'âœ… å·²è¤‡è£½';
    setTimeout(() => copyBtn.innerText = 'ğŸ“‹ è¤‡è£½å…§å®¹', 2000);
  });

  const closeBtn = document.createElement('button');
  closeBtn.innerText = 'âŒ é—œé–‰';
  closeBtn.style.margin = '10px';
  closeBtn.style.padding = '8px 12px';
  closeBtn.style.background = '#2563eb';
  closeBtn.style.color = 'white';
  closeBtn.style.border = 'none';
  closeBtn.style.borderRadius = '5px';
  closeBtn.addEventListener('click', () => popup.remove());

  popup.appendChild(textarea);
  popup.appendChild(copyBtn);
  popup.appendChild(closeBtn);
  document.body.appendChild(popup);
}

</script>

</body>
</html>
